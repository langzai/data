At least 40 soldiers andguerrillas including a U.S. military adviser died today in amajor battle in northern El Salvador, military sources said.    The sources said 30 guerrillas and 12 government soldierswere killed when up to 800 leftwing guerrillas attacked the ElParaiso base of the Fourth Infantry Brigade in the province ofChalatenango, about 35 miles north of San Salvador.    A U.S. embassy spokesman confirmed that a U.S. adviser wasamong the dead.     The one-hour battle involved some of the heaviest fightingfor several years, the sources said. Reuter&#3;